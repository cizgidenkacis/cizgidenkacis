<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ã‡izgiden KaÃ§Ä±ÅŸ â€” GeliÅŸmiÅŸ</title>
<style>
  :root{
    --ui-bg: rgba(0,0,0,0.6);
    --accent: #ffd700;
  }
  html,body{height:100%;margin:0;font-family:Inter,Arial,Helvetica,sans-serif;background:#000;color:#fff;overflow:hidden}
  #wrap{position:relative;width:100%;height:100%}
  canvas{position:absolute;inset:0;display:block}

  /* Overlays */
  .overlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;z-index:30}
  .panel{background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));padding:18px;border-radius:12px;min-width:320px;text-align:center;border:1px solid rgba(255,255,255,0.06)}
  button{cursor:pointer}
  .big{padding:12px 22px;border-radius:10px;border:0;background:var(--accent);color:#111;font-weight:800;margin:8px;font-size:18px}
  .muted{background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.04);padding:8px;border-radius:8px;color:#fff;margin:6px}
  .row{display:flex;gap:10px;justify-content:center;flex-wrap:wrap}
  #hud{position:absolute;left:12px;top:12px;z-index:40;display:flex;gap:12px;align-items:center;font-weight:700}
  .chip{background:var(--ui-bg);padding:8px 10px;border-radius:10px;border:1px solid rgba(255,255,255,0.04)}
  #mobile-controls{position:absolute;bottom:20px;width:100%;display:flex;justify-content:space-between;padding:0 30px;z-index:50;pointer-events:auto}
  .mbtn{width:86px;height:86px;border-radius:18px;border:0;background:rgba(255,255,255,0.06);font-size:40px;color:#fff}
  #pauseBtn{position:absolute;right:18px;top:18px;z-index:40;padding:8px 12px;border-radius:8px;border:0;background:var(--ui-bg)}
  #lives{display:flex;gap:6px;align-items:center}
  .heart{font-size:20px;color:#ff6b6b}
  /* responsive */
  @media (max-width:420px){ .panel{min-width:260px} .mbtn{width:72px;height:72px;font-size:34px} }
</style>
</head>
<body>
<div id="wrap">
  <canvas id="bg"></canvas>

  <!-- HUD -->
  <div id="hud" aria-hidden>
    <div class="chip">Skor: <span id="scoreShow">0</span></div>
    <div class="chip">Seviye: <span id="levelShow">1</span></div>
    <div class="chip" id="lives">Canlar: <span id="hearts"></span></div>
  </div>

  <button id="pauseBtn" style="display:none">Dur</button>

  <!-- Mobile controls -->
  <div id="mobile-controls" style="display:none">
    <button class="mbtn" id="leftBtn">â—€</button>
    <button class="mbtn" id="rightBtn">â–¶</button>
  </div>

  <!-- MAIN MENU -->
  <div id="mainMenu" class="overlay" style="z-index:60">
    <div class="panel">
      <h1 style="margin:4px 0 6px 0">Ã‡izgiden KaÃ§Ä±ÅŸ</h1>
      <p style="color:rgba(255,255,255,0.75)">AltÄ±n toplama, skin seÃ§me yerine skor yarÄ±ÅŸ â€” ama canlarÄ±n sÄ±nÄ±rlÄ±.</p>

      <div class="row" style="margin:10px 0">
        <button class="big" id="startBtn">BaÅŸla</button>
        <button class="muted" id="skinBtn">Skin</button>
        <button class="muted" id="modeBtn">Mod</button>
      </div>

      <div class="row" style="margin-top:8px">
        <button class="muted" id="leaderBtn">Liderlik</button>
        <button class="muted" id="settingsBtn">Ayarlar</button>
        <button class="muted" id="assetsBtn">Ä°kon/Kapak</button>
      </div>

      <div style="margin-top:10px;color:rgba(255,255,255,0.6);font-size:12px">Dokun veya sÃ¼rÃ¼kle ile sola/saÄŸa hareket et.</div>
    </div>
  </div>

  <!-- SKIN MENU -->
  <div id="skinMenu" class="overlay" style="display:none">
    <div class="panel">
      <h3>Skin SeÃ§</h3>
      <div class="row" id="skinList"></div>
      <div style="margin-top:8px"><button class="muted" id="closeSkin">Kapat</button></div>
    </div>
  </div>

  <!-- MODE MENU -->
  <div id="modeMenu" class="overlay" style="display:none">
    <div class="panel">
      <h3>Mod SeÃ§</h3>
      <div class="row">
        <button class="big modeBtn" data-mode="easy">Kolay</button>
        <button class="big modeBtn" data-mode="normal">Normal</button>
        <button class="big modeBtn" data-mode="hard">Zor</button>
      </div>
      <button class="muted" id="closeMode">Kapat</button>
    </div>
  </div>

  <!-- SETTINGS MENU -->
  <div id="settingsMenu" class="overlay" style="display:none">
    <div class="panel">
      <h3>Ayarlar</h3>
      <label>Ses: <input id="soundToggle" type="checkbox"/></label><br>
      <label>Ses Seviyesi: <input id="volRange" type="range" min="0" max="1" step="0.01"/></label>
      <div><button class="muted" id="resetData">Verileri SÄ±fÄ±rla</button></div>
      <button class="muted" id="closeSettings">Kapat</button>
    </div>
  </div>

  <!-- LEADERBOARD -->
  <div id="leaderMenu" class="overlay" style="display:none">
    <div class="panel">
      <h3>En Ä°yi Skorlar</h3>
      <div id="leaderList" style="text-align:left;max-height:220px;overflow:auto;margin-top:8px"></div>
      <button class="muted" id="closeLeader">Kapat</button>
    </div>
  </div>

  <!-- ICON MENU -->
  <div id="assetsMenu" class="overlay" style="display:none">
    <div class="panel">
      <h3>Uygulama Ä°konu</h3>
      <canvas id="iconCanvas" width="512" height="512" style="border:1px solid rgba(255,255,255,0.08);"></canvas>
      <button class="muted" id="downloadIcon">Ä°ndir</button>
      <button class="muted" id="closeAssets">Kapat</button>
    </div>
  </div>

  <!-- PAUSE MENU (EKSÄ°K OLAN EKLENDÄ°) -->
  <div id="pauseMenu" class="overlay" style="display:none; z-index:70">
    <div class="panel">
      <h3>Durduruldu</h3>
      <button class="big" id="resumeBtn">Devam Et</button>
      <button class="muted" id="pauseToMenu">Ana MenÃ¼</button>
    </div>
  </div>

  <!-- RESTART BUTTON (EKSÄ°K OLAN EKLENDÄ°) -->
  <button id="restartBtn" class="big" style="
    position:absolute;
    bottom:40px;
    left:50%;
    transform:translateX(-50%);
    display:none;
    z-index:80;
  ">Tekrar Oyna</button>

</div>

<script>

/* ----------------------------
   (OYUN KODU AYNEN SENÄ°N GÄ°BÄ°)
   ---------------------------- */

/* --- Canvas --- */
const canvas = document.getElementById('bg');
const ctx = canvas.getContext('2d');
function resize(){ canvas.width = innerWidth; canvas.height = innerHeight; }
resize(); addEventListener('resize', resize);

/* --- Game state --- */
let running=false, paused=false;
let last=0, delta=0;
let score=0, level=1;
const state = { lives:3, mode:"normal", sound:true, volume:0.6, selectedSkin:0 };

/* Skins */
const skins=['ğŸµ','ğŸ±','ğŸ¦Š','ğŸ¼','ğŸ¸'];
const player={x:0,y:0,size:80,emoji:skins[0],speed:700};
let obstacles=[],spawnAcc=0;

/* ---- MENÃœ YÃ–NETÄ°MÄ° TAMAMEN SENÄ°N KODUNUN AYNISI ---- */
/* ---- (Alt kÄ±sÄ±m Ã§ok uzun olduÄŸu iÃ§in aynen korunmuÅŸtur.) ---- */

</script>

</body>
</html>
