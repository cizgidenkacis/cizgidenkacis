<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>√áizgiden Ka√ßƒ±≈ü</title>

<style>
    /* ---- GENEL ---- */
    body, html {
        margin: 0;
        padding: 0;
        overflow: hidden;
        font-family: Arial, sans-serif;
        user-select: none;
    }

    /* ---- Gƒ∞Rƒ∞≈û EKRANI ---- */
    #mainMenu {
        position: absolute;
        inset: 0;
        background: #ffffff;
        background-image: repeating-linear-gradient(
            45deg,
            #e5e5e5 0px,
            #e5e5e5 2px,
            #ffffff 2px,
            #ffffff 12px
        );
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 10;
        text-align: center;
    }

    #mainMenu h1 {
        font-size: 60px;
        color: #000;
        margin-bottom: 30px;
        text-shadow: 2px 2px #aaa;
    }

    .menuBtn {
        padding: 20px 40px;
        font-size: 32px;
        color: #000;
        background: #ffd000;
        border: none;
        border-radius: 14px;
        cursor: pointer;
        box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    }

    /* ---- OYUN ---- */
    #gameCanvas {
        position: absolute;
        inset: 0;
        background: linear-gradient(120deg, #4e54c8, #8f94fb);
    }

    /* ---- SKOR BOX ---- */
    #scoreBox {
        position: absolute;
        top: 20px;
        left: 20px;
        background: rgba(255,255,255,0.8);
        padding: 12px 20px;
        border-radius: 10px;
        font-size: 24px;
        font-weight: bold;
        display: none;
    }

    /* ---- BUTONLAR ---- */
    #pauseBtn, #homeBtn {
        position: absolute;
        top: 20px;
        right: 20px;
        padding: 12px 18px;
        font-size: 20px;
        background: #222;
        color: #fff;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        display: none;
    }

    #homeBtn { right: 120px; }

    #restartBtn {
        display: none;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%,-50%);
        padding: 20px 45px;
        font-size: 30px;
        background: #ff4141;
        color: white;
        border: none;
        border-radius: 16px;
        cursor: pointer;
    }
</style>
</head>
<body>

<!-- Gƒ∞Rƒ∞≈û MEN√úS√ú -->
<div id="mainMenu">
    <h1>√áizgiden Ka√ßƒ±≈ü</h1>
    <button class="menuBtn" onclick="startGame()">Ba≈üla</button>
</div>

<!-- OYUN -->
<canvas id="gameCanvas"></canvas>

<!-- SKOR -->
<div id="scoreBox">Skor: 0<br>En Y√ºksek: 0<br>Seviye: 1</div>

<!-- BUTONLAR -->
<button id="pauseBtn" onclick="pauseGame()">Dur</button>
<button id="homeBtn" onclick="backToMenu()">üè†</button>
<button id="restartBtn" onclick="resetGame()">Tekrar Oyna</button>



<script>
/* ======================== */
/*     OYUN DEƒûƒ∞≈ûKENLERƒ∞    */
/* ======================== */

let started = false;
let paused  = false;
let over = false;
let score = 0;
let level = 1;

let highScore = Number(localStorage.getItem("highScore") || 0);

const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");
canvas.width = innerWidth;
canvas.height = innerHeight;

let player = {
    x: canvas.width * 0.1,
    y: canvas.height / 2,
    size: 65,
    speedY: 0,
    emoji: "üêµ"   // belirgin karakter
};

let obstacles = [];
const gravity = 0.7;



/* ======================== */
/*       OYUN BA≈ûLAT        */
/* ======================== */

function startGame() {
    document.getElementById("mainMenu").style.display = "none";
    document.getElementById("scoreBox").style.display = "block";
    document.getElementById("pauseBtn").style.display = "block";
    document.getElementById("homeBtn").style.display = "block";

    started = true;
    over = false;
    paused = false;
    score = 0;
    level = 1;

    obstacles = [];
    player.y = canvas.height / 2;
    player.speedY = 0;

    loop();
}



/* ======================== */
/*       OYUN AKI≈ûI         */
/* ======================== */

function update() {
    if (!started || paused || over) return;

    // Yer √ßekimi
    player.speedY += gravity;
    player.y += player.speedY;

    if (player.y < 0) player.y = 0;
    if (player.y > canvas.height - player.size)
        player.y = canvas.height - player.size;

    // Engelleri g√ºncelle
    obstacles.forEach((o, i) => {
        o.x -= o.speed;

        if (o.x + o.w < 0) {
            obstacles.splice(i, 1);
            score++;

            // Seviye sistemi
            if (score % 150 === 0) level++;
        }

        // √áarpƒ±≈üma
        if (player.x < o.x + o.w &&
            player.x + player.size > o.x &&
            player.y < o.y + o.h &&
            player.y + player.size > o.y) {
            endGame();
        }
    });

    // Engelleri olu≈ütur (dikey √ßizgi)
    if (Math.random() < 0.03) {
        obstacles.push({
            x: canvas.width,
            y: Math.random() * canvas.height,
            w: 10,
            h: Math.random() * 200 + 50,
            speed: 6 + level * 0.7
        });
    }

    document.getElementById("scoreBox").innerHTML =
        "Skor: " + score +
        "<br>En Y√ºksek: " + highScore +
        "<br>Seviye: " + level;
}

function draw() {
    ctx.clearRect(0,0,canvas.width,canvas.height);

    // Player
    ctx.font = player.size + "px serif";
    ctx.fillText(player.emoji, player.x, player.y);

    // Engeller
    ctx.fillStyle = "#ff2d2d";
    obstacles.forEach(o => ctx.fillRect(o.x, o.y, o.w, o.h));
}

function loop() {
    update();
    draw();
    requestAnimationFrame(loop);
}



/* ======================== */
/*       KONTROLLER         */
/* ======================== */

function jump() {
    if (!started || paused || over) return;
    player.speedY = -14;
}

addEventListener("mousedown", jump);
addEventListener("touchstart", jump);



/* ======================== */
/*       OYUN Bƒ∞TERSE       */
/* ======================== */

function endGame() {
    over = true;
    document.getElementById("restartBtn").style.display = "block";

    if (score > highScore) {
        highScore = score;
        localStorage.setItem("highScore", highScore);
    }
}



/* ======================== */
/*       MEN√ú & PAUSE       */
/* ======================== */

function pauseGame() {
    paused = !paused;
    document.getElementById("pauseBtn").textContent =
        paused ? "Devam" : "Dur";
}

function backToMenu() {
    started = false;
    paused = false;
    over = false;

    document.getElementById("mainMenu").style.display = "flex";
    document.getElementById("scoreBox").style.display = "none";
    document.getElementById("pauseBtn").style.display = "none";
    document.getElementById("homeBtn").style.display = "none";
    document.getElementById("restartBtn").style.display = "none";
}

function resetGame() {
    document.getElementById("restartBtn").style.display = "none";
    startGame();
}
</script>

</body>
</html>
